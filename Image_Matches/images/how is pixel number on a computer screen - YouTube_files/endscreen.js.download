(function(g){var window=this;'use strict';var YJh=function(A,n){A.sN("onAutonavCoundownStarted",n)},mRd=function(A){var n,O,L;
return A==null?void 0:(n=A.playerOverlays)==null?void 0:(O=n.playerOverlayRenderer)==null?void 0:(L=O.autoplay)==null?void 0:L.playerOverlayAutoplayRenderer},Jv=function(A,n,O){g.KG(A.element,"ytp-suggestion-set",!!n.videoId);
var L=n.playlistId;O=n.Tg(O?O:"mqdefault.jpg");var J=null,S=null;n instanceof g.is&&(n.lengthText?(J=n.lengthText||null,S=n.AR||null):n.lengthSeconds&&(J=g.rC(n.lengthSeconds),S=g.rC(n.lengthSeconds,!0)));var N=!!L;L=N&&g.EA(L).type==="RD";var G=n instanceof g.is?n.isLivePlayback:null,b=n instanceof g.is?n.isUpcoming:null,t=n.author,l=n.shortViewCount,D=n.publishedTimeText,Y=[],m=[];t&&Y.push(t);l&&(Y.push(l),m.push(l));D&&m.push(D);O={title:n.title,author:t,author_and_views:Y.join(" \u2022 "),aria_label:n.ariaLabel||
g.MU("Watch $TITLE",{TITLE:n.title}),duration:J,timestamp:S,url:n.Wy(),is_live:G,is_upcoming:b,is_list:N,is_mix:L,background:O?"background-image: url("+O+")":"",views_and_publish_time:m.join(" \u2022 "),autoplayAlternativeHeader:n.kY};n instanceof g.C7&&(O.playlist_length=n.playlistLength);A.update(O)},S2=function(A){var n=A.K(),O=n.L;
g.w.call(this,{N:"a",S:"ytp-autonav-suggestion-card",j:{href:"{{url}}",target:O?n.X:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},V:[{N:"div",Bs:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],j:{style:"{{background}}"},V:[{N:"div",j:{"aria-label":"{{timestamp}}"},Bs:["ytp-autonav-timestamp"],Cl:"{{duration}}"},{N:"div",Bs:["ytp-autonav-live-stamp"],Cl:"Live"},{N:"div",
Bs:["ytp-autonav-upcoming-stamp"],Cl:"Upcoming"},{N:"div",S:"ytp-autonav-list-overlay",V:[{N:"div",S:"ytp-autonav-mix-text",Cl:"Mix"},{N:"div",S:"ytp-autonav-mix-icon"}]}]},{N:"div",Bs:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],Cl:"{{title}}"},{N:"div",Bs:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],Cl:"{{author}}"},{N:"div",Bs:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],Cl:"{{views_and_publish_time}}"}]});this.T=A;this.suggestion=
null;this.U=O;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)},N3=function(A,n){n=n===void 0?!1:n;
g.w.call(this,{N:"div",S:"ytp-autonav-endscreen-countdown-overlay"});var O=this;this.W=n;this.cancelCommand=this.Z=void 0;this.C=0;this.container=new g.w({N:"div",S:"ytp-autonav-endscreen-countdown-container"});g.R(this,this.container);this.container.ma(this.element);n=A.K();var L=n.L;this.T=A;this.suggestion=null;this.onVideoDataChange("newdata",this.T.getVideoData());this.Y(A,"videodatachange",this.onVideoDataChange);this.U=new g.w({N:"div",S:"ytp-autonav-endscreen-upnext-container",j:{"aria-label":"{{aria_label}}",
"data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},V:[{N:"div",S:"ytp-autonav-endscreen-upnext-header"},{N:"div",S:"ytp-autonav-endscreen-upnext-alternative-header",Cl:"{{autoplayAlternativeHeader}}"},{N:"a",S:"ytp-autonav-endscreen-link-container",j:{href:"{{url}}",target:L?n.X:""},V:[{N:"div",S:"ytp-autonav-endscreen-upnext-thumbnail",j:{style:"{{background}}"},V:[{N:"div",j:{"aria-label":"{{timestamp}}"},Bs:["ytp-autonav-timestamp"],
Cl:"{{duration}}"},{N:"div",Bs:["ytp-autonav-live-stamp"],Cl:"Live"},{N:"div",Bs:["ytp-autonav-upcoming-stamp"],Cl:"Upcoming"}]},{N:"div",S:"ytp-autonav-endscreen-video-info",V:[{N:"div",S:"ytp-autonav-endscreen-premium-badge"},{N:"div",S:"ytp-autonav-endscreen-upnext-title",Cl:"{{title}}"},{N:"div",S:"ytp-autonav-endscreen-upnext-author",Cl:"{{author}}"},{N:"div",S:"ytp-autonav-view-and-date",Cl:"{{views_and_publish_time}}"},{N:"div",S:"ytp-autonav-author-and-view",Cl:"{{author_and_views}}"}]}]}]});
g.R(this,this.U);this.U.ma(this.container.element);L||this.Y(this.U.fl("ytp-autonav-endscreen-link-container"),"click",this.KT);this.T.createClientVe(this.container.element,this,115127);this.T.createClientVe(this.U.fl("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.w({N:"div",S:"ytp-autonav-overlay"});g.R(this,this.overlay);this.overlay.ma(this.container.element);this.J=new g.w({N:"div",S:"ytp-autonav-endscreen-button-container"});g.R(this,this.J);this.J.ma(this.container.element);
this.cancelButton=new g.w({N:"button",Bs:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button",n.D("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],j:{"aria-label":"Cancel autoplay"},Cl:"Cancel"});g.R(this,this.cancelButton);this.cancelButton.ma(this.J.element);this.cancelButton.listen("click",this.iS,this);this.T.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.w({N:"a",Bs:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-play-button",
n.D("web_modern_buttons")?"ytp-autonav-endscreen-upnext-button-rounded":""],j:{href:"{{url}}",role:"button","aria-label":"Play next video"},Cl:"Play Now"});g.R(this,this.playButton);this.playButton.ma(this.J.element);this.playButton.listen("click",this.KT,this);this.T.createServerVe(this.playButton.element,this.playButton,!0);(n=this.T.getVideoData())&&TSp(this,n);this.L=new g.cy(function(){dRw(O)},500);
g.R(this,this.L);this.Er();this.Y(A,"autonavvisibility",this.Er);this.T.D("web_autonav_color_transition")&&(this.Y(A,"autonavchange",this.H5),this.Y(A,"onAutonavCoundownStarted",this.YH1))},ca=function(A){var n=A.T.bQ(!0,A.T.isFullscreen());
g.KG(A.container.element,"ytp-autonav-endscreen-small-mode",A.y9(n));g.KG(A.container.element,"ytp-autonav-endscreen-is-premium",!!A.suggestion&&!!A.suggestion.G2u);g.KG(A.T.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!A.T.VN());g.KG(A.T.getRootNode(),"countdown-running",A.lq());g.KG(A.container.element,"ytp-player-content",A.T.VN());g.fn(A.overlay.element,{width:n.width+"px"});if(!A.lq()){A.T.VN()?xR3(A,Math.round(fnw(A)/1E3)):xR3(A);n=!!A.suggestion&&!!A.suggestion.kY;var O=A.T.VN()||
!n;g.KG(A.container.element,"ytp-autonav-endscreen-upnext-alternative-header-only",!O&&n);g.KG(A.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",O&&!n);A.J.sH(A.T.VN());g.KG(A.element,"ytp-enable-w2w-color-transitions",K8p(A))}},dRw=function(A){var n=fnw(A),O=Math,L=O.min;
var J=A.C?Date.now()-A.C:0;O=L.call(O,J,n);xR3(A,Math.ceil((n-O)/1E3));n-O<=500&&A.lq()?A.select(!0):A.lq()&&A.L.start()},fnw=function(A){if(A.T.isFullscreen()){var n;
A=(n=A.T.getVideoData())==null?void 0:n.Ka;return A===-1||A===void 0?8E3:A}return A.T.cN()>=0?A.T.cN():g.fj(A.T.K().experiments,"autoplay_time")||1E4},TSp=function(A,n){n=n.getWatchNextResponse();
var O,L;n=(O=mRd(n))==null?void 0:(L=O.nextButton)==null?void 0:L.buttonRenderer;A.Z=n==null?void 0:n.navigationEndpoint;O=n==null?void 0:n.trackingParams;A.playButton&&O&&A.T.setTrackingParams(A.playButton.element,O)},K8p=function(A){var n;
return!((n=A.T.getVideoData())==null||!n.watchToWatchTransitionRenderer)},xR3=function(A,n){n=n===void 0?-1:n;
A=A.U.fl("ytp-autonav-endscreen-upnext-header");g.Sy(A);if(n>=0){n=String(n);var O="Up next in $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],L="Up next in $SECONDS".indexOf(O);if(L>=0){A.appendChild(g.LK("Up next in $SECONDS".slice(0,L)));var J=g.OE("span");g.Yw(J,"ytp-autonav-endscreen-upnext-header-countdown-number");g.bS(J,n);A.appendChild(J);A.appendChild(g.LK("Up next in $SECONDS".slice(L+O.length)));return}}g.bS(A,"Up next")},Gz=function(A,n){g.w.call(this,{N:"div",
Bs:["html5-endscreen","ytp-player-content",n||"base-endscreen"]});this.created=!1;this.player=A},bA=function(A){g.w.call(this,{N:"div",
Bs:["ytp-upnext","ytp-player-content"],j:{"aria-label":"{{aria_label}}"},V:[{N:"div",S:"ytp-cued-thumbnail-overlay-image",j:{style:"{{background}}"}},{N:"span",S:"ytp-upnext-top",V:[{N:"span",S:"ytp-upnext-header",Cl:"Up Next"},{N:"span",S:"ytp-upnext-title",Cl:"{{title}}"},{N:"span",S:"ytp-upnext-author",Cl:"{{author}}"}]},{N:"a",S:"ytp-upnext-autoplay-icon",j:{role:"button",href:"{{url}}","aria-label":"Play next video"},V:[{N:"svg",j:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},
V:[{N:"circle",S:"ytp-svg-autoplay-circle",j:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{N:"circle",S:"ytp-svg-autoplay-ring",j:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{N:"path",S:"ytp-svg-fill",j:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{N:"span",S:"ytp-upnext-bottom",V:[{N:"span",S:"ytp-upnext-cancel"},{N:"span",S:"ytp-upnext-paused",
Cl:"Autoplay is paused"}]}]});this.api=A;this.cancelButton=null;this.Z=this.fl("ytp-svg-autoplay-ring");this.C=this.notification=this.U=this.suggestion=null;this.L=new g.cy(this.NZ,5E3,this);this.J=0;var n=this.fl("ytp-upnext-cancel");this.cancelButton=new g.w({N:"button",Bs:["ytp-upnext-cancel-button","ytp-button"],j:{tabindex:"0","aria-label":"Cancel autoplay"},Cl:"Cancel"});g.R(this,this.cancelButton);this.cancelButton.listen("click",this.n4,this);this.cancelButton.ma(n);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,
this,115129);g.R(this,this.L);this.api.createClientVe(this.element,this,18788);n=this.fl("ytp-upnext-autoplay-icon");this.Y(n,"click",this.xS);this.api.createClientVe(n,this,115130);this.GS();this.Y(A,"autonavvisibility",this.GS);this.Y(A,"mdxnowautoplaying",this.zGs);this.Y(A,"mdxautoplaycanceled",this.DaQ);g.KG(this.element,"ytp-upnext-mobile",this.api.K().J)},E$R=function(A,n){if(n)return n;
if(A.api.isFullscreen()){var O;A=(O=A.api.getVideoData())==null?void 0:O.Ka;return A===-1||A===void 0?8E3:A}return A.api.cN()>=0?A.api.cN():g.fj(A.api.K().experiments,"autoplay_time")||1E4},CVK=function(A,n){n=E$R(A,n);
var O=Math,L=O.min;var J=(0,g.Qs)()-A.J;O=L.call(O,J,n);n=n===0?1:Math.min(O/n,1);A.Z.setAttribute("stroke-dashoffset",""+-211*(n+1));n>=1&&A.lq()&&A.api.getPresentingPlayerType()!==3?A.select(!0):A.lq()&&A.U.start()},tv=function(A){Gz.call(this,A,"autonav-endscreen");
this.overlay=this.videoData=null;this.table=new g.w({N:"div",S:"ytp-suggestion-panel",V:[{N:"div",Bs:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],Cl:"More videos"}]});this.G=new g.w({N:"div",S:"ytp-suggestions-container"});this.videos=[];this.C=null;this.Z=this.W=!1;this.J=new N3(this.player);g.R(this,this.J);this.J.ma(this.element);A.getVideoData().Uh?this.U=this.J:(this.U=new bA(A),g.uZ(this.player,this.U.element,4),g.R(this,this.U));this.overlay=new g.w({N:"div",
S:"ytp-autonav-overlay-cancelled-state"});g.R(this,this.overlay);this.overlay.ma(this.element);this.L=new g.Vr(this);g.R(this,this.L);g.R(this,this.table);this.table.ma(this.element);this.table.show();g.R(this,this.G);this.G.ma(this.table.element);this.hide()},lA=function(A){var n=A.VN();
n!==A.Z&&(A.Z=n,A.player.publish("autonavvisibility"),A.Z?(A.J!==A.U&&A.J.hide(),A.table.hide()):(A.J!==A.U&&A.J.show(),A.table.show()))},D1=function(A,n){g.w.call(this,{N:"button",
Bs:["ytp-watch-on-youtube-button","ytp-button"],Cl:"{{content}}"});this.T=A;this.buttonType=this.buttonType=n;this.dE();this.buttonType===2&&g.TU(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.dE);this.sH(!0)},Yy=function(A,n){Gz.call(this,A,"embeds-lite-endscreen");
this.T=A;this.U=n;this.T.createClientVe(this.element,this,156943);this.watchButton=new D1(A,2);g.R(this,this.watchButton);this.watchButton.ma(this.element);this.hide()},i1D=function(A){Gz.call(this,A,"subscribecard-endscreen");
this.U=new g.w({N:"div",S:"ytp-subscribe-card",V:[{N:"img",S:"ytp-author-image",j:{src:"{{profilePicture}}"}},{N:"div",S:"ytp-subscribe-card-right",V:[{N:"div",S:"ytp-author-name",Cl:"{{author}}"},{N:"div",S:"html5-subscribe-button-container"}]}]});g.R(this,this.U);this.U.ma(this.element);var n=A.getVideoData();this.subscribeButton=new g.Si("Subscribe",null,"Unsubscribe",null,!0,!1,n.uQ,n.subscribed,"trailer-endscreen",null,A,!1);g.R(this,this.subscribeButton);this.subscribeButton.ma(this.U.fl("html5-subscribe-button-container"));
this.Y(A,"videodatachange",this.q1);this.q1();this.hide()},m5=function(A){var n=A.K(),O=g.Qr||g.pt?{style:"will-change: opacity"}:void 0,L=n.L,J=["ytp-videowall-still"];
n.J&&J.push("ytp-videowall-show-text");g.w.call(this,{N:"a",Bs:J,j:{href:"{{url}}",target:L?n.X:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},V:[{N:"div",S:"ytp-videowall-still-image",j:{style:"{{background}}"}},{N:"span",S:"ytp-videowall-still-info",j:{"aria-hidden":"true"},V:[{N:"span",S:"ytp-videowall-still-info-bg",V:[{N:"span",S:"ytp-videowall-still-info-content",j:O,V:[{N:"span",S:"ytp-videowall-still-info-title",Cl:"{{title}}"},
{N:"span",S:"ytp-videowall-still-info-author",Cl:"{{author_and_views}}"},{N:"span",S:"ytp-videowall-still-info-live",Cl:"Live"},{N:"span",S:"ytp-videowall-still-info-duration",Cl:"{{duration}}"}]}]}]},{N:"span",Bs:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],j:{"aria-hidden":"true"},V:[{N:"span",S:"ytp-videowall-still-listlabel-icon"},"Playlist",{N:"span",S:"ytp-videowall-still-listlabel-length",V:[" (",{N:"span",Cl:"{{playlist_length}}"},")"]}]},{N:"span",Bs:["ytp-videowall-still-listlabel-mix",
"ytp-videowall-still-listlabel"],j:{"aria-hidden":"true"},V:[{N:"span",S:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{N:"span",S:"ytp-videowall-still-listlabel-length",Cl:" (50+)"}]}]});this.suggestion=null;this.J=L;this.api=A;this.U=new g.Vr(this);g.R(this,this.U);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.U.Y(A,"videodatachange",this.onVideoDataChange);A.createServerVe(this.element,this);this.onVideoDataChange()},Tz=function(A){Gz.call(this,A,"videowall-endscreen");
var n=this;this.T=A;this.C=0;this.stills=[];this.L=this.videoData=null;this.Z=this.G=!1;this.X=null;this.J=new g.Vr(this);g.R(this,this.J);this.W=new g.cy(function(){g.TU(n.element,"ytp-show-tiles")},0);
g.R(this,this.W);var O=new g.w({N:"button",Bs:["ytp-button","ytp-endscreen-previous"],j:{"aria-label":"Previous"},V:[g.Un()]});g.R(this,O);O.ma(this.element);O.listen("click",this.v5,this);this.table=new g.dz({N:"div",S:"ytp-endscreen-content"});g.R(this,this.table);this.table.ma(this.element);O=new g.w({N:"button",Bs:["ytp-button","ytp-endscreen-next"],j:{"aria-label":"Next"},V:[g.HC()]});g.R(this,O);O.ma(this.element);O.listen("click",this.W5,this);A.getVideoData().Uh?this.U=new N3(A,!0):this.U=
new bA(A);g.R(this,this.U);g.uZ(this.player,this.U.element,4);A.createClientVe(this.element,this,158789);this.hide()},dT=function(A){return g.PQ(A.player)&&A.BE()&&!A.L},fF=function(A){var n=A.VN();
n!==A.G&&(A.G=n,A.player.publish("autonavvisibility"))},KF=function(A){Gz.call(this,A,"watch-again-on-youtube-endscreen");
this.watchButton=new D1(A,1);g.R(this,this.watchButton);this.watchButton.ma(this.element);g.UBY(A)&&(this.U=new g.em(A),g.R(this,this.U),this.J=new g.w({N:"div",Bs:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],j:{tabIndex:"-1"},V:[this.U]}),g.R(this,this.J),this.U.ma(this.J.element),this.J.ma(this.element));A.createClientVe(this.element,this,156914);this.hide()},H1L=function(A){g.Ma.call(this,A);
var n=this;this.endScreen=null;this.J=this.U=this.C=this.L=!1;this.listeners=new g.Vr(this);g.R(this,this.listeners);var O=A.K(),L=A.getVideoData();L=L&&L.limitedPlaybackDurationInSeconds!==0;g.K5(g.Qa(O))&&L&&!g.g7(A)?(this.J=!0,this.endScreen=new Yy(A,g.Yr(A))):A.isEmbedsShortsMode()?this.endScreen=new KF(A):MPp(A)?(this.L=!0,p$6(this),this.U?this.endScreen=new tv(A):this.endScreen=new Tz(A)):O.LG?this.endScreen=new i1D(A):this.endScreen=new Gz(A);g.R(this,this.endScreen);g.uZ(A,this.endScreen.element,
4);URK(this);this.listeners.Y(A,"videodatachange",this.onVideoDataChange,this);this.listeners.Y(A,g.DG("endscreen"),function(J){n.onCueRangeEnter(J)});
this.listeners.Y(A,g.Yg("endscreen"),function(J){n.onCueRangeExit(J)})},p$6=function(A){var n=A.player.getVideoData();
if(!n||A.U===n.w3&&A.C===n.Uh)return!1;A.U=n.w3;A.C=n.Uh;return!0},MPp=function(A){A=A.K();
return A.Vd&&!A.LG&&!A.disableOrganicUi},URK=function(A){A.player.v6("endscreen");
var n=A.player.getVideoData();n=new g.tw(Math.max((n.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});var O=new g.tw(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});A.player.jq([n,O])};
g.pf.prototype.cN=g.Lx(14,function(){return this.app.cN()});
g.K6.prototype.cN=g.Lx(13,function(){return this.getVideoData().G3});
g.E$.prototype.E5=g.Lx(12,function(A){this.BX().E5(A)});
g.Cu.prototype.E5=g.Lx(11,function(A){this.U!==A&&(this.U=A,this.q1())});
g.y2.prototype.E5=g.Lx(10,function(A){this.overflowButton&&this.overflowButton.E5(A)});
g.E$.prototype.K9=g.Lx(9,function(A){this.BX().K9(A)});
g.H1.prototype.K9=g.Lx(8,function(A){this.J!==A&&(this.J=A,this.q1())});
g.y2.prototype.K9=g.Lx(7,function(A){this.shareButton&&this.shareButton.K9(A)});
g.E$.prototype.hH=g.Lx(6,function(A){this.BX().hH(A)});
g.F_.prototype.hH=g.Lx(5,function(A){this.Zb!==A&&(this.Zb=A,this.aD())});
g.E$.prototype.JH=g.Lx(4,function(A){this.BX().JH(A)});
g.y2.prototype.JH=g.Lx(3,function(A){this.TQ!==A&&(this.TQ=A,this.Lv())});g.d(S2,g.w);S2.prototype.select=function(){this.T.bT(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.w9||void 0)&&this.T.logClick(this.element)};
S2.prototype.onClick=function(A){g.LZ(A,this.T,this.U,this.suggestion.sessionData||void 0)&&this.select()};
S2.prototype.onKeyPress=function(A){switch(A.keyCode){case 13:case 32:A.defaultPrevented||(this.select(),A.preventDefault())}};g.d(N3,g.w);g.c=N3.prototype;g.c.N_=function(A){this.suggestion!==A&&(this.suggestion=A,Jv(this.U,A),this.playButton.updateValue("url",this.suggestion.Wy()),ca(this))};
g.c.lq=function(){return this.C>0};
g.c.pH=function(){this.lq()||(this.C=Date.now(),dRw(this),YJh(this.T,fnw(this)),g.KG(this.T.getRootNode(),"countdown-running",this.lq()))};
g.c.Ov=function(){this.Ol();dRw(this);var A=this.U.fl("ytp-autonav-endscreen-upnext-header");A&&g.bS(A,"Up next")};
g.c.Ol=function(){this.lq()&&(this.L.stop(),this.C=0)};
g.c.select=function(A){this.T.nextVideo(!1,A===void 0?!1:A);this.Ol()};
g.c.KT=function(A){g.LZ(A,this.T)&&(A.currentTarget===this.playButton.element?this.T.logClick(this.playButton.element):A.currentTarget===this.U.fl("ytp-autonav-endscreen-link-container")&&(A=this.U.fl("ytp-autonav-endscreen-link-container"),this.T.logVisibility(A,!0),this.T.logClick(A)),this.Z?(this.T.sN("innertubeCommand",this.Z),this.Ol()):this.select())};
g.c.iS=function(){this.T.logClick(this.cancelButton.element);g.HQ(this.T,!0);this.cancelCommand&&this.T.sN("innertubeCommand",this.cancelCommand)};
g.c.onVideoDataChange=function(A,n){TSp(this,n);A=n.getWatchNextResponse();var O,L;A=(O=mRd(A))==null?void 0:(L=O.cancelButton)==null?void 0:L.buttonRenderer;this.cancelCommand=A==null?void 0:A.command};
g.c.YH1=function(A){if(K8p(this)){var n=this.T.getVideoData().watchToWatchTransitionRenderer,O=n==null?void 0:n.fromColorPaletteDark;n=n==null?void 0:n.toColorPaletteDark;if(O&&n){var L=this.element;L.style.setProperty("--w2w-start-background-color",g.q7(O.surgeColor));L.style.setProperty("--w2w-start-primary-text-color",g.q7(O.primaryTitleColor));L.style.setProperty("--w2w-start-secondary-text-color",g.q7(O.secondaryTitleColor));L.style.setProperty("--w2w-end-background-color",g.q7(n.surgeColor));
L.style.setProperty("--w2w-end-primary-text-color",g.q7(n.primaryTitleColor));L.style.setProperty("--w2w-end-secondary-text-color",g.q7(n.secondaryTitleColor));L.style.setProperty("--w2w-animation-duration",A+"ms")}g.KG(this.element,"ytp-w2w-animate",!0)}};
g.c.H5=function(A){this.T.D("web_autonav_color_transition")&&A!==2&&g.KG(this.element,"ytp-w2w-animate",!1)};
g.c.Er=function(){var A=this.T.VN();this.W&&this.C5!==A&&this.sH(A);ca(this);this.T.logVisibility(this.container.element,A);this.T.logVisibility(this.cancelButton.element,A);this.T.logVisibility(this.U.fl("ytp-autonav-endscreen-link-container"),A);this.T.logVisibility(this.playButton.element,A)};
g.c.y9=function(A){return A.width<400||A.height<459};g.d(Gz,g.w);g.c=Gz.prototype;g.c.create=function(){this.created=!0};
g.c.destroy=function(){this.created=!1};
g.c.BE=function(){return!1};
g.c.VN=function(){return!1};
g.c.M0=function(){return!1};g.d(bA,g.w);g.c=bA.prototype;g.c.NZ=function(){this.notification&&(this.L.stop(),this.f0(this.C),this.C=null,this.notification.close(),this.notification=null)};
g.c.N_=function(A){this.suggestion=A;Jv(this,A,"hqdefault.jpg")};
g.c.GS=function(){this.sH(this.api.VN());this.api.logVisibility(this.element,this.api.VN());this.api.logVisibility(this.fl("ytp-upnext-autoplay-icon"),this.api.VN());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.VN())};
g.c.eGZ=function(){window.focus();this.NZ()};
g.c.pH=function(A){var n=this;this.lq()||(g.Kp("a11y-announce","Up Next "+this.suggestion.title),this.J=(0,g.Qs)(),this.U=new g.cy(function(){CVK(n,A)},25),CVK(this,A),YJh(this.api,E$R(this,A)));
g.xw(this.element,"ytp-upnext-autoplay-paused")};
g.c.hide=function(){g.w.prototype.hide.call(this)};
g.c.lq=function(){return!!this.U};
g.c.Ov=function(){this.Ol();this.J=(0,g.Qs)();CVK(this);g.TU(this.element,"ytp-upnext-autoplay-paused")};
g.c.Ol=function(){this.lq()&&(this.U.dispose(),this.U=null)};
g.c.select=function(A){A=A===void 0?!1:A;if(this.api.K().D("autonav_notifications")&&A&&window.Notification&&typeof document.hasFocus==="function"){var n=Notification.permission;n==="default"?Notification.requestPermission():n!=="granted"||document.hasFocus()||(this.NZ(),this.notification=new Notification("Up Next",{body:this.suggestion.title,icon:this.suggestion.Tg()}),this.C=this.Y(this.notification,"click",this.eGZ),this.L.start())}this.Ol();this.api.nextVideo(!1,A)};
g.c.xS=function(A){!g.Gu(this.cancelButton.element,A.target)&&g.LZ(A,this.api)&&(this.api.VN()&&this.api.logClick(this.fl("ytp-upnext-autoplay-icon")),this.select())};
g.c.n4=function(){this.api.VN()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.HQ(this.api,!0)};
g.c.zGs=function(A){this.api.getPresentingPlayerType();this.show();this.pH(A)};
g.c.DaQ=function(){this.api.getPresentingPlayerType();this.Ol();this.hide()};
g.c.h5=function(){this.Ol();this.NZ();g.w.prototype.h5.call(this)};g.d(tv,Gz);g.c=tv.prototype;g.c.create=function(){Gz.prototype.create.call(this);this.L.Y(this.player,"appresize",this.UO);this.L.Y(this.player,"onVideoAreaChange",this.UO);this.L.Y(this.player,"videodatachange",this.onVideoDataChange);this.L.Y(this.player,"autonavchange",this.VJ);this.L.Y(this.player,"onAutonavCancelled",this.zM);this.onVideoDataChange()};
g.c.show=function(){Gz.prototype.show.call(this);(this.W||this.C&&this.C!==this.videoData.clientPlaybackNonce)&&g.HQ(this.player,!1);g.PQ(this.player)&&this.BE()&&!this.C?(lA(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.U.select(!0):this.U.pH():this.videoData.autonavState===3&&this.U.Ov()):(g.HQ(this.player,!0),lA(this));this.UO()};
g.c.hide=function(){Gz.prototype.hide.call(this);this.U.Ov();lA(this)};
g.c.UO=function(){var A=this.player.bQ(!0,this.player.isFullscreen());lA(this);ca(this.J);g.KG(this.element,"ytp-autonav-cancelled-small-mode",this.y9(A));g.KG(this.element,"ytp-autonav-cancelled-tiny-mode",this.MK(A));g.KG(this.element,"ytp-autonav-cancelled-mini-mode",A.width<=400||A.height<=360);this.overlay&&g.fn(this.overlay.element,{width:A.width+"px"});if(!this.Z)for(A=0;A<this.videos.length;A++)g.KG(this.videos[A].element,"ytp-suggestion-card-with-margin",A%2===1)};
g.c.onVideoDataChange=function(){var A=this.player.getVideoData();if(this.videoData!==A&&A){this.videoData=A;if((A=this.videoData.suggestions)&&A.length||this.player.D("web_player_autonav_empty_suggestions_fix")){var n=g.FT(this.videoData);n&&(this.U.N_(n),this.U!==this.J&&this.J.N_(n))}if(A&&A.length)for(n=0;n<skp.length;++n){var O=skp[n];if(A&&A[O]){this.videos[n]=new S2(this.player);var L=this.videos[n];O=A[O];L.suggestion!==O&&(L.suggestion=O,Jv(L,O));g.R(this,this.videos[n]);this.videos[n].ma(this.G.element)}}this.UO()}};
g.c.VJ=function(A){A===1?(this.W=!1,this.C=this.videoData.clientPlaybackNonce,this.U.Ol(),this.C5&&this.UO()):(this.W=!0,this.VN()&&(A===2?this.U.pH():A===3&&this.U.Ov()))};
g.c.zM=function(A){A?this.VJ(1):(this.C=null,this.W=!1)};
g.c.BE=function(){return this.videoData.autonavState!==1};
g.c.y9=function(A){return(A.width<910||A.height<459)&&!this.MK(A)&&!(A.width<=400||A.height<=360)};
g.c.MK=function(A){return A.width<800&&!(A.width<=400||A.height<=360)};
g.c.VN=function(){return this.C5&&g.PQ(this.player)&&this.BE()&&!this.C};
var skp=[1,3,2,4];g.d(D1,g.w);g.c=D1.prototype;g.c.dE=function(){switch(this.buttonType){case 1:var A="Watch again on YouTube";var n=156915;break;case 2:A="Continue watching on YouTube";n=156942;break;default:A="Continue watching on YouTube",n=156942}this.update({content:A});this.T.hasVe(this.element)&&this.T.destroyVe(this.element);this.T.createClientVe(this.element,this,n)};
g.c.onClick=function(A){this.T.D("web_player_log_click_before_generating_ve_conversion_params")&&this.T.logClick(this.element);g.Je(this.getVideoUrl(),this.T,A);this.T.D("web_player_log_click_before_generating_ve_conversion_params")||this.T.logClick(this.element)};
g.c.getVideoUrl=function(){var A=!0;switch(this.buttonType){case 1:A=!0;break;case 2:A=!1}A=this.T.getVideoUrl(A,!1,!1,!0);var n=this.T.K();if(g.Hp(n)){var O={};g.Hp(n)&&g.GZ(this.T,"addEmbedsConversionTrackingParams",[O]);A=g.W$(A,O)}return A};
g.c.logVisibility=function(){this.T.logVisibility(this.element,this.C5&&this.B)};
g.c.show=function(){g.w.prototype.show.call(this);this.logVisibility()};
g.c.hide=function(){g.w.prototype.hide.call(this);this.logVisibility()};
g.c.bA=function(A){g.w.prototype.bA.call(this,A);this.logVisibility()};g.d(Yy,Gz);Yy.prototype.show=function(){this.player.getPlayerState()!==3&&(Gz.prototype.show.call(this),this.U.JH(!0),this.U.K9(!0),this.T.K().eq||this.U.E5(!0),this.T.logVisibility(this.element,!0),this.watchButton.bA(!0))};
Yy.prototype.hide=function(){Gz.prototype.hide.call(this);this.U.JH(!1);this.U.K9(!1);this.U.E5(!1);this.T.logVisibility(this.element,!1);this.watchButton.bA(!1)};g.d(i1D,Gz);i1D.prototype.q1=function(){var A=this.player.getVideoData();this.U.update({profilePicture:A.profilePicture,author:A.author});this.subscribeButton.channelId=A.uQ;var n=this.subscribeButton;A.subscribed?n.U():n.J()};g.d(m5,g.w);m5.prototype.select=function(){this.api.bT(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.w9||void 0)&&this.api.logClick(this.element)};
m5.prototype.onClick=function(A){if(g.Hp(this.api.K())&&this.api.D("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);var n=this.suggestion.Wy(),O={};g.j4(this.api,O);n=g.W$(n,O);g.Je(n,this.api,A)}else g.LZ(A,this.api,this.J,this.suggestion.sessionData||void 0)&&this.select()};
m5.prototype.onKeyPress=function(A){switch(A.keyCode){case 13:case 32:A.defaultPrevented||(this.select(),A.preventDefault())}};
m5.prototype.onVideoDataChange=function(){var A=this.api.getVideoData(),n=this.api.K();this.J=A.jm?!1:n.L};g.d(Tz,Gz);g.c=Tz.prototype;g.c.create=function(){Gz.prototype.create.call(this);var A=this.player.getVideoData();A&&(this.videoData=A);this.BM();this.J.Y(this.player,"appresize",this.BM);this.J.Y(this.player,"onVideoAreaChange",this.BM);this.J.Y(this.player,"videodatachange",this.onVideoDataChange);this.J.Y(this.player,"autonavchange",this.Am);this.J.Y(this.player,"onAutonavCancelled",this.DH);A=this.videoData.autonavState;A!==this.X&&this.Am(A);this.J.Y(this.element,"transitionend",this.UNg)};
g.c.destroy=function(){g.vG(this.J);g.tD(this.stills);this.stills=[];Gz.prototype.destroy.call(this);g.xw(this.element,"ytp-show-tiles");this.W.stop();this.X=this.videoData.autonavState};
g.c.BE=function(){return this.videoData.autonavState!==1};
g.c.show=function(){var A=this.C5;Gz.prototype.show.call(this);g.xw(this.element,"ytp-show-tiles");this.player.K().J?g.bx(this.W):this.W.start();(this.Z||this.L&&this.L!==this.videoData.clientPlaybackNonce)&&g.HQ(this.player,!1);dT(this)?(fF(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3?this.U.select(!0):this.U.pH():this.videoData.autonavState===3&&this.U.Ov()):(g.HQ(this.player,!0),fF(this));A!==this.C5&&this.player.logVisibility(this.element,!0)};
g.c.hide=function(){var A=this.C5;Gz.prototype.hide.call(this);this.U.Ov();fF(this);A!==this.C5&&this.player.logVisibility(this.element,!1)};
g.c.UNg=function(A){A.target===this.element&&this.BM()};
g.c.BM=function(){var A,n,O,L;var J=((A=this.videoData)==null?0:(n=A.suggestions)==null?0:n.length)?(O=this.videoData)==null?void 0:O.suggestions:[(L=this.videoData)==null?void 0:g.FT(L)];if(J.length){g.TU(this.element,"ytp-endscreen-paginate");var S=this.T.bQ(!0,this.T.isFullscreen());if(A=g.Yr(this.T))A=A.KG()?48:32,S.width-=A*2;var N=S.width/S.height;L=96/54;n=A=2;var G=Math.max(S.width/96,2),b=Math.max(S.height/54,2);O=J.length;var t=O*4;for(t-=4;t>0&&(A<G||n<b);){var l=A/2,D=n/2,Y=A<=G-2&&t>=
D*4,m=n<=b-2&&t>=l*4;if((l+1)/D*L/N>N/(l/(D+1)*L)&&m)t-=l*4,n+=2;else if(Y)t-=D*4,A+=2;else if(m)t-=l*4,n+=2;else break}L=!1;t>=12&&O*4-t<=6&&(n>=4||A>=4)&&(L=!0);t=A*96;G=n*54;N=t/G<N?S.height/G:S.width/t;N=Math.min(N,2);t=Math.floor(Math.min(S.width,t*N));G=Math.floor(Math.min(S.height,G*N));S=this.table.element;S.ariaLive="polite";g.P0(S,t,G);g.fn(S,{marginLeft:t/-2+"px",marginTop:G/-2+"px"});this.U.N_(g.FT(this.videoData));this.U instanceof N3&&ca(this.U);g.KG(this.element,"ytp-endscreen-takeover",
dT(this));fF(this);t+=4;G+=4;N=0;S.ariaBusy="true";for(b=0;b<A;b++)for(l=0;l<n;l++)if(D=N,m=0,L&&b>=A-2&&l>=n-2?m=1:l%2===0&&b%2===0&&(l<2&&b<2?l===0&&b===0&&(m=2):m=2),D=g.mN(D+this.C,O),m!==0){Y=this.stills[N];Y||(Y=new m5(this.player),this.stills[N]=Y,S.appendChild(Y.element));var T=Math.floor(G*l/n),K=Math.floor(t*b/A),C=Math.floor(G*(l+m)/n)-T-4,p=Math.floor(t*(b+m)/A)-K-4;g.g0(Y.element,K,T);g.P0(Y.element,p,C);g.fn(Y.element,"transitionDelay",(l+b)/20+"s");g.KG(Y.element,"ytp-videowall-still-mini",
m===1);g.KG(Y.element,"ytp-videowall-still-large",m>2);m=Math.max(p,C);g.KG(Y.element,"ytp-videowall-still-round-large",m>=256);g.KG(Y.element,"ytp-videowall-still-round-medium",m>96&&m<256);g.KG(Y.element,"ytp-videowall-still-round-small",m<=96);D=J[D];Y.suggestion!==D&&(Y.suggestion=D,m=Y.api.K(),T=g.mu(Y.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",Jv(Y,D,T),g.Hp(m)&&!Y.api.D("web_player_log_click_before_generating_ve_conversion_params")&&(m=D.Wy(),T={},g.GZ(Y.api,"addEmbedsConversionTrackingParams",
[T]),m=g.W$(m,T),Y.updateValue("url",m)),(D=(D=D.sessionData)&&D.itct)&&Y.api.setTrackingParams(Y.element,D));N++}S.ariaBusy="false";g.KG(this.element,"ytp-endscreen-paginate",N<O);for(J=this.stills.length-1;J>=N;J--)A=this.stills[J],g.ck(A.element),g.bN(A);this.stills.length=N}};
g.c.onVideoDataChange=function(){var A=this.player.getVideoData(1);this.videoData!==A&&(A!=null&&g.FT(A)?(this.C=0,this.videoData=A,this.BM()):this.player.uZ("missg",{vid:(A==null?void 0:A.videoId)||"",cpn:(A==null?void 0:A.clientPlaybackNonce)||""}))};
g.c.W5=function(){this.C+=this.stills.length;this.BM()};
g.c.v5=function(){this.C-=this.stills.length;this.BM()};
g.c.M0=function(){return this.U.lq()};
g.c.Am=function(A){A===1?(this.Z=!1,this.L=this.videoData.clientPlaybackNonce,this.U.Ol(),this.C5&&this.BM()):(this.Z=!0,this.C5&&dT(this)&&(A===2?this.U.pH():A===3&&this.U.Ov()))};
g.c.DH=function(A){if(A){for(A=0;A<this.stills.length;A++)this.T.logVisibility(this.stills[A].element,!0);this.Am(1)}else this.L=null,this.Z=!1;this.BM()};
g.c.VN=function(){return this.C5&&dT(this)};g.d(KF,Gz);KF.prototype.hasSuggestions=function(){var A;return(A=this.U)==null?void 0:A.hasSuggestions()};
KF.prototype.show=function(){if(this.player.getPlayerState()!==3){Gz.prototype.show.call(this);var A=this.J;if(A){var n=this.U.hasSuggestions();g.KG(this.element,"ytp-shorts-branded-ui",n);n?A.show():A.hide()}var O;(O=g.Yr(this.player))==null||O.hH(!0);this.player.logVisibility(this.element,!0);this.watchButton.bA(!0)}};
KF.prototype.hide=function(){Gz.prototype.hide.call(this);var A;(A=g.Yr(this.player))==null||A.hH(!1);this.player.logVisibility(this.element,!1);this.watchButton.bA(!1)};g.d(H1L,g.Ma);g.c=H1L.prototype;g.c.Ob=function(){var A=this.player.getVideoData(),n=A.D("embeds_enable_full_length_inline_muted_autoplay")?A.mutedAutoplay&&(A.limitedPlaybackDurationInSeconds>0||A.endSeconds>0):A.mutedAutoplay;if((this.player.isEmbedsShortsMode()||this.J)&&!n)return!0;var O;var L=!!((A==null?0:g.FT(A))||(A==null?0:(O=A.suggestions)==null?0:O.length));L=!MPp(this.player)||L;A=A.RU;O=this.player.pX();return L&&!A&&!O&&!n};
g.c.VN=function(){return this.endScreen.VN()};
g.c.z22=function(){return this.VN()?this.endScreen.M0():!1};
g.c.h5=function(){this.player.v6("endscreen");g.Ma.prototype.h5.call(this)};
g.c.load=function(){var A=this.player.getVideoData();var n=A.transitionEndpointAtEndOfStream;if(n&&n.videoId){var O=this.player.FO().dM.get("heartbeat"),L=g.FT(A);!L||n.videoId!==L.videoId||A.BA?(this.player.bT(n.videoId,void 0,void 0,!0,!0,n),O&&O.Nt("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),A=!0):A=!1}else A=!1;A||(g.Ma.prototype.load.call(this),this.endScreen.show())};
g.c.unload=function(){g.Ma.prototype.unload.call(this);this.endScreen.hide();this.endScreen.destroy()};
g.c.onCueRangeEnter=function(A){this.Ob()&&(this.endScreen.created||this.endScreen.create(),A.getId()==="load"&&this.load())};
g.c.onCueRangeExit=function(A){A.getId()==="load"&&this.loaded&&this.unload()};
g.c.onVideoDataChange=function(){URK(this);this.L&&p$6(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.U?this.endScreen=new tv(this.player):this.endScreen=new Tz(this.player),g.R(this,this.endScreen),g.uZ(this.player,this.endScreen.element,4))};g.i_("endscreen",H1L);})(_yt_player);
