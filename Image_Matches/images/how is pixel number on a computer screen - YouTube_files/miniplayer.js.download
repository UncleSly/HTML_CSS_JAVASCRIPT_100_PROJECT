(function(g){var window=this;'use strict';var Pa=function(A,n){g.w.call(this,{N:"button",Bs:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],j:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},V:[{N:"svg",j:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},V:[{N:"g",j:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},V:[{N:"g",j:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
V:[{N:"path",j:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.T=A;this.listen("click",this.onClick,this);this.updateValue("title",g.MY(A,"Expand","i"));this.update({"data-title-no-tooltip":"Expand"});this.addOnDisposeCallback(g.Cf(n.uC(),this.element))},U8K=function(A){g.w.call(this,
{N:"div",
S:"ytp-miniplayer-ui"});this.G=this.Z=!1;this.player=A;this.Y(A,"minimized",this.Hp);this.Y(A,"onStateChange",this.P_5);this.Y(A,"documentpictureinpicturechange",this.wTZ)},HTK=function(A,n){g.KG(A.player.getRootNode(),"ytp-player-minimized",n);
A.player.D("web_cairo_modern_miniplayer")&&g.KG(A.player.getRootNode(),"ytp-modern-miniplayer",n);A.player.D("web_cairo_modern_miniplayer_inset_progress_bar")&&g.KG(A.player.getRootNode(),"ytp-miniplayer-alternate-ui",n)},sVK=function(A){var n=A.player.dQ().getPlayerSize().width,O=0,L=n;
if(A.player.D("web_cairo_modern_miniplayer")&&!A.G&&!A.player.D("web_cairo_modern_miniplayer_infobar")||A.player.D("web_cairo_modern_miniplayer_inset_progress_bar"))O=12,L=n-24;g.q6j(A.progressBar,O,L,!1);g.wu(A.progressBar)},gIV=function(A){g.Ma.call(this,A);
this.J=new g.Vr(this);this.U=new U8K(this.player);this.U.hide();g.uZ(this.player,this.U.element,4);A.isMinimized()&&(this.load(),g.KG(A.getRootNode(),"ytp-player-minimized",!0))};
g.d(Pa,g.w);Pa.prototype.onClick=function(){this.T.sN("onExpandMiniplayer")};g.d(U8K,g.w);g.c=U8K.prototype;
g.c.show=function(){this.U=new g.Np(this.Iy,null,this);this.U.start();if(!this.Z){this.tooltip=new g.PM(this.player,this);g.R(this,this.tooltip);g.uZ(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.nk=new g.nu(this.player);g.R(this,this.nk);this.progressBar=new g.kj(this.player,this);g.R(this,this.progressBar);g.uZ(this.player,this.progressBar.element,4);this.player.D("web_cairo_modern_miniplayer_infobar")&&g.TU(this.player.getRootNode(),"ytp-always-showing-infobar");this.J=new g.w({N:"div",
S:"ytp-miniplayer-scrim"});g.R(this,this.J);this.J.ma(this.element);this.Y(this.J.element,"click",this.W_);var A=new g.w({N:"button",Bs:["ytp-miniplayer-close-button","ytp-button"],j:{"aria-label":"Close"},V:[g.sn()]});g.R(this,A);A.ma(this.J.element);this.Y(A.element,"click",this.jU);A=new Pa(this.player,this);g.R(this,A);A.ma(this.J.element);this.C=new g.w({N:"div",S:"ytp-miniplayer-controls"});g.R(this,this.C);this.C.ma(this.J.element);this.player.D("web_cairo_modern_miniplayer")||this.Y(this.C.element,
"click",this.W_);var n=new g.w({N:"div",S:"ytp-miniplayer-button-container"});g.R(this,n);n.ma(this.C.element);A=new g.w({N:"div",S:"ytp-miniplayer-play-button-container"});g.R(this,A);A.ma(this.C.element);var O=new g.w({N:"div",S:"ytp-miniplayer-button-container"});g.R(this,O);O.ma(this.C.element);this.X=new g.RG(this.player,this,!1);g.R(this,this.X);this.X.ma(n.element);n=new g.VK(this.player,this);g.R(this,n);n.ma(A.element);this.nextButton=new g.RG(this.player,this,!0);g.R(this,this.nextButton);
this.nextButton.ma(O.element);this.W=this.player.D("web_cairo_modern_miniplayer")?new g.pU(this.player,this,0):new g.pU(this.player,this);g.R(this,this.W);this.W.ma(this.J.element);this.L=new g.w({N:"div",S:"ytp-miniplayer-buttons"});g.R(this,this.L);g.uZ(this.player,this.L.element,4);A=new g.w({N:"button",Bs:["ytp-miniplayer-close-button","ytp-button"],j:{"aria-label":"Close"},V:[g.sn()]});g.R(this,A);A.ma(this.L.element);this.Y(A.element,"click",this.jU);A=new g.w({N:"button",Bs:["ytp-miniplayer-replay-button",
"ytp-button"],j:{"aria-label":"Close"},V:[g.PC()]});g.R(this,A);A.ma(this.L.element);this.Y(A.element,"click",this.NMe);this.player.D("web_cairo_modern_miniplayer")&&(A=new Pa(this.player,this),g.R(this,A),A.ma(this.L.element));this.Y(this.player,"presentingplayerstatechange",this.eS);this.Y(this.player,"appresize",this.K5);this.Y(this.player,"fullscreentoggled",this.K5);this.player.D("web_cairo_modern_miniplayer")&&this.Y(this.player,"onPlaylistUpdate",this.sG);this.K5();this.Z=!0}this.player.getPlayerState()!==
0&&g.w.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.c.hide=function(){this.U&&(this.U.dispose(),this.U=void 0);g.w.prototype.hide.call(this);this.player.isMinimized()||(this.Z&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.c.h5=function(){this.U&&(this.U.dispose(),this.U=void 0);g.w.prototype.h5.call(this)};
g.c.jU=function(){this.player.D("kevlar_watch_while_v2")||this.player.stopVideo();this.player.sN("onCloseMiniplayer")};
g.c.NMe=function(){this.player.playVideo()};
g.c.W_=function(A){if(A.target===this.J.element||A.target===this.C.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.c.Hp=function(){HTK(this,this.player.isMinimized());this.player.D("web_cairo_modern_miniplayer")&&this.sG()};
g.c.wTZ=function(){HTK(this,this.player.PX());this.player.D("web_cairo_modern_miniplayer")&&this.sG();g.KG(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.PX())};
g.c.qM=function(){this.progressBar.AJ();this.W.AJ()};
g.c.Iy=function(){this.qM();this.U&&this.U.start()};
g.c.eS=function(A){g.e(A.state,32)&&this.tooltip.hide()};
g.c.sG=function(){this.G=(this.player.isMinimized()||this.player.PX())&&!!this.player.getPlaylist();g.KG(this.player.getRootNode(),"ytp-has-playlist-data",this.G);sVK(this)};
g.c.K5=function(){sVK(this)};
g.c.P_5=function(A){this.player.isMinimized()&&(A===0?this.hide():this.show())};
g.c.uC=function(){return this.tooltip};
g.c.PP=function(A,n,O,L,J){var S=0,N=0,G=0,b=g.y3(A);L=n&&(g.mu(n,"ytp-prev-button")||g.mu(n,"ytp-next-button"));if(n){O=g.mu(n,"ytp-play-button");var t=g.mu(n,"ytp-miniplayer-expand-watch-page-button");L?S=G=12:O?(n=g.uR(n,this.element),G=n.x,S=n.y-12):t&&(G=g.mu(n,"ytp-miniplayer-button-top-left"),S=g.uR(n,this.element),n=g.y3(n),G?(G=8,S=S.y+40):(G=S.x-b.width+n.width,S=S.y-20))}else G=O-b.width/2,N=25+(J||0);n=this.player.dQ().getPlayerSize();J=S+(J||0);b=g.Yh(G,0,n.width-b.width-12);J?(A.style.top=
J+"px",A.style.bottom=""):(A.style.top="",A.style.bottom=N+"px");A.style.left=b+"px";this.player.D("web_cairo_modern_miniplayer")&&(N=g.mu(A,"ytp-preview"),A.style.visibility=L&&N&&n.height<225?"hidden":"")};g.d(gIV,g.Ma);g.c=gIV.prototype;g.c.onVideoDataChange=function(){if(this.player.getVideoData()){var A=this.player.getVideoAspectRatio(),n=16/9;A=A>n+.1||A<n-.1;g.KG(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",A)}};
g.c.create=function(){g.Ma.prototype.create.call(this);this.J.Y(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.c.u2=function(){return!1};
g.c.load=function(){this.player.hideControls();this.U.show()};
g.c.unload=function(){this.player.showControls();this.U.hide()};g.i_("miniplayer",gIV);})(_yt_player);
